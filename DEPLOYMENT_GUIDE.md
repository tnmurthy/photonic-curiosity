# GitHub Pages Deployment Setup

## Current Status
- ✅ GitHub Actions workflow configured
- ✅ CNAME file created with `mytestbed.tech`
- ❌ GitHub Pages not deployed yet
- ❌ DNS not configured to point to GitHub Pages

## Steps to Deploy to mytestbed.tech

### Step 1: Enable GitHub Pages

1. Go to your GitHub repository: https://github.com/tnmurthy/photonic-curiosity
2. Click **Settings** → **Pages** (in the left sidebar)
3. Under **Source**, select:
   - Source: **Deploy from a branch**
   - Branch: **gh-pages** 
   - Folder: **/ (root)**
4. Click **Save**

### Step 2: Trigger the Workflow

The workflow will run automatically on push, but you can manually trigger it:

1. Go to **Actions** tab in your repository
2. Click on **Daily Sudoku CI/CD** workflow
3. Click **Run workflow** → **Run workflow**
4. Wait for it to complete (~2-3 minutes)

**OR** push a commit to trigger it automatically:
```bash
git commit --allow-empty -m "Trigger GitHub Pages deployment"
git push origin main
```

### Step 3: Configure DNS at Hostinger

Currently, `mytestbed.tech` shows a Hostinger parking page. You need to update DNS:

1. Log in to your **Hostinger control panel**: https://hpanel.hostinger.com/domains
2. Find **mytestbed.tech** and click **Manage**
3. Go to **DNS / Name Servers**
4. Add/Update these **A records**:
   ```
   @ (or root) → 185.199.108.153
   @ (or root) → 185.199.109.153
   @ (or root) → 185.199.110.153
   @ (or root) → 185.199.111.153
   ```
5. Add a **CNAME record**:
   ```
   www → tnmurthy.github.io
   ```
6. Save changes

**DNS propagation takes 1-48 hours** (usually 15-30 minutes)

### Step 4: Verify Deployment

After DNS propagates:
- Visit https://mytestbed.tech
- You should see your Sudoku website!
- Visit https://www.mytestbed.tech (with www) - should also work

## Checking Workflow Status

To see if the deployment succeeded:
1. Go to https://github.com/tnmurthy/photonic-curiosity/actions
2. Look for the latest workflow run
3. Check if all steps completed successfully (green checkmarks)

## Important Notes

⚠️ **Static Site vs Flask App**
- `mytestbed.tech` will host the **static Sudoku puzzle page** (daily puzzle)
- Your **Flask dashboard** (`http://127.0.0.1:5000`) is for local management only
- The static site is generated by `scripts/generate_static.py` and updates daily via GitHub Actions

⚠️ **Custom Domain**
- GitHub Pages is FREE for custom domains
- Make sure GitHub Pages is enabled BEFORE configuring DNS
- The CNAME file in your repo tells GitHub which domain to use

## Troubleshooting

**If the site doesn't load after 48 hours:**
1. Check GitHub Actions - did the workflow succeed?
2. Check GitHub Pages settings - is it enabled on `gh-pages` branch?
3. Use `nslookup mytestbed.tech` to verify DNS points to GitHub servers
4. Wait longer - DNS can take up to 48 hours

**Workflow fails?**
- Check if `tests` directory has valid test files
- Check if `scripts/generate_static.py` runs without errors locally

### Common SSL Errors

**"Your connection isn't private" / `NET::ERR_CERT_COMMON_NAME_INVALID`**
- **Cause:** GitHub has verified your DNS but hasn't finished generating your SSL certificate yet.
- **Solution:** **WAIT.** This is normal. It typically takes **15-60 minutes** after DNS propagation for GitHub to issue the certificate.
- **Check Status:** Go to GitHub Repository > Settings > Pages. You should see "DNS check successful" and a message about the certificate being provisioned. Once done, "Enforce HTTPS" will be checked automatically.
